schema: '2.0'
stages:
  get_features_n_split:
    cmd: python3 scripts/data_preprocessing/get_features_n_split.py data/raw/wines_SPA.csv
    deps:
    - path: data/raw/wines_SPA.csv
      hash: md5
      md5: ed876e0a7422843a66bc67b8abf42d0d
      size: 688191
    - path: scripts/data_preprocessing/get_features_n_split.py
      hash: md5
      md5: 5a1246c5c724d790c8d33956b7178b07
      size: 1439
    params:
      params.yaml:
        split.split_ratio: 0.2
    outs:
    - path: data/stage_1
      hash: md5
      md5: f70dd8a2b71d7e0ea92d49eb794532f1.dir
      size: 117326
      nfiles: 4
  preprocessing:
    cmd: python3 scripts/data_preprocessing/preprocessing.py data/stage_1/X_Train.csv
      data/stage_1/y_Train.csv data/stage_1/X_test.csv data/stage_1/y_test.csv
    deps:
    - path: data/stage_1/X_Train.csv
      hash: md5
      md5: 16666f51d1f2f4ed45fd09bc0ed9bd3c
      size: 80213
    - path: data/stage_1/X_test.csv
      hash: md5
      md5: b4fb146580ce6647beadc0175426eaeb
      size: 19819
    - path: data/stage_1/y_Train.csv
      hash: md5
      md5: 73b1f71232d94fd04dcf046331d638a9
      size: 13955
    - path: data/stage_1/y_test.csv
      hash: md5
      md5: 54fbbeb6712a5139bb9ebffcc8aa1345
      size: 3339
    - path: scripts/data_preprocessing/preprocessing.py
      hash: md5
      md5: 3081844fbeab51889b1769ef1705674e
      size: 2143
    outs:
    - path: data/stage_2
      hash: md5
      md5: 19946a0fee5ab59f5c25eb366bf3f8b3.dir
      size: 4837576
      nfiles: 4
  train:
    cmd: python3 scripts/model_learning/svr.py data/stage_2/X_Train.csv data/stage_2/y_Train.csv
    deps:
    - path: data/stage_2/X_Train.csv
      hash: md5
      md5: d643b390538ccdf9898d2b81291fb58a
      size: 3854290
    - path: data/stage_2/y_Train.csv
      hash: md5
      md5: 73b1f71232d94fd04dcf046331d638a9
      size: 13955
    - path: scripts/model_learning/svr.py
      hash: md5
      md5: 615b244a78fb130c09be409b96ab14f0
      size: 866
    outs:
    - path: models/model.pkl
      hash: md5
      md5: ea2a580be42b0038f332dcb9d77209dc
      size: 4410602
  evaluate:
    cmd: python3 scripts/model_learning/eval.py data/stage_2/X_test.csv data/stage_2/y_test.csv
      models/model.pkl
    deps:
    - path: data/stage_2/X_test.csv
      hash: md5
      md5: 024db7de8affc32376bec45f2f8e06e2
      size: 965992
    - path: data/stage_2/y_test.csv
      hash: md5
      md5: 54fbbeb6712a5139bb9ebffcc8aa1345
      size: 3339
    - path: models/model.pkl
      hash: md5
      md5: ea2a580be42b0038f332dcb9d77209dc
      size: 4410602
    - path: scripts/model_learning/eval.py
      hash: md5
      md5: e977610b2c1155bcdb5ce7f037bc43e1
      size: 434
    outs:
    - path: evaluate/r2score.json
      hash: md5
      md5: 60a2241a41988bc5caa8a15e31ef7534
      size: 32
