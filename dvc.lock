schema: '2.0'
stages:
  get_features_n_split:
    cmd: python3 scripts/data_preprocessing/get_features_n_split.py data/raw/wines_SPA.csv
    deps:
    - path: data/raw/wines_SPA.csv
      hash: md5
      md5: ed876e0a7422843a66bc67b8abf42d0d
      size: 688191
    - path: scripts/data_preprocessing/get_features_n_split.py
      hash: md5
      md5: 5a1246c5c724d790c8d33956b7178b07
      size: 1439
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage_1
      hash: md5
      md5: 44d4b27e961f4b9efd8b83d0cc9954b7.dir
      size: 117154
      nfiles: 4
  preprocessing:
    cmd: python3 scripts/data_preprocessing/preprocessing.py data/stage_1/X_Train.csv
      data/stage_1/y_Train.csv data/stage_1/X_test.csv data/stage_1/y_test.csv
    deps:
    - path: data/stage_1/X_Train.csv
      hash: md5
      md5: 1393eb2a7aa759df9580170ebabbef65
      size: 70231
    - path: data/stage_1/X_test.csv
      hash: md5
      md5: 7910bfe8648c67494b9b1a340370b9f6
      size: 29801
    - path: data/stage_1/y_Train.csv
      hash: md5
      md5: c7b457e7cafbfecd47818a6e52a3fa24
      size: 12110
    - path: data/stage_1/y_test.csv
      hash: md5
      md5: a031923807ac450d163852df172dac97
      size: 5012
    - path: scripts/data_preprocessing/preprocessing.py
      hash: md5
      md5: 3081844fbeab51889b1769ef1705674e
      size: 2143
    outs:
    - path: data/stage_2
      hash: md5
      md5: 33e221890ddde903882abf76910d61a5.dir
      size: 4473440
      nfiles: 4
  train:
    cmd: python3 scripts/model_learning/svr.py data/stage_2/X_Train.csv data/stage_2/y_Train.csv
    deps:
    - path: data/stage_2/X_Train.csv
      hash: md5
      md5: dc62906dfca85df52457ee0cfad43223
      size: 3116500
    - path: data/stage_2/y_Train.csv
      hash: md5
      md5: c7b457e7cafbfecd47818a6e52a3fa24
      size: 12110
    - path: scripts/model_learning/svr.py
      hash: md5
      md5: 615b244a78fb130c09be409b96ab14f0
      size: 866
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 318a4478eb67c0c0182e4e20e7044726
      size: 3720416
  evaluate:
    cmd: python3 scripts/model_learning/eval.py data/stage_2/X_test.csv data/stage_2/y_test.csv
      models/model.pkl
    deps:
    - path: data/stage_2/X_test.csv
      hash: md5
      md5: 85a779a68a7a39b5f00a068a80cd51c1
      size: 1339818
    - path: data/stage_2/y_test.csv
      hash: md5
      md5: a031923807ac450d163852df172dac97
      size: 5012
    - path: models/model.pkl
      hash: md5
      md5: 318a4478eb67c0c0182e4e20e7044726
      size: 3720416
    - path: scripts/model_learning/eval.py
      hash: md5
      md5: e977610b2c1155bcdb5ce7f037bc43e1
      size: 434
    outs:
    - path: evaluate/r2score.json
      hash: md5
      md5: a3a7808afb4b9782895f81c581ff977c
      size: 32
